--==============================
-- SarScript UI Framework
--==============================

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local SarScript = {}
SarScript.__index = SarScript

-- Create Window
function SarScript:CreateWindow(title)
    local self = setmetatable({}, SarScript)

    local Screen = Instance.new("ScreenGui")
    Screen.Parent = LocalPlayer:WaitForChild("PlayerGui")

    local Main = Instance.new("Frame")
    Main.Size = UDim2.new(0, 450, 0, 350)
    Main.Position = UDim2.new(0.5, -225, 0.5, -175)
    Main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    Main.Parent = Screen

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.BackgroundTransparency = 1
    Title.Text = title or "SarScript UI"
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 20
    Title.TextColor3 = Color3.new(1,1,1)
    Title.Parent = Main

    local Tabs = Instance.new("Frame")
    Tabs.Size = UDim2.new(0,120,1,-40)
    Tabs.Position = UDim2.new(0,0,0,40)
    Tabs.BackgroundColor3 = Color3.fromRGB(35,35,35)
    Tabs.Parent = Main

    local TabLayout = Instance.new("UIListLayout")
    TabLayout.Parent = Tabs
    TabLayout.Padding = UDim.new(0,5)

    local PageHolder = Instance.new("Frame")
    PageHolder.Size = UDim2.new(1,-120,1,-40)
    PageHolder.Position = UDim2.new(0,120,0,40)
    PageHolder.BackgroundTransparency = 1
    PageHolder.Parent = Main

    self.Screen = Screen
    self.Tabs = Tabs
    self.PageHolder = PageHolder
    self.NotificationY = 10

    return self
end

-- Create Tab
function SarScript:CreateTab(name)
    local TabBtn = Instance.new("TextButton")
    TabBtn.Size = UDim2.new(1,-10,0,35)
    TabBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
    TabBtn.Text = name
    TabBtn.Font = Enum.Font.Gotham
    TabBtn.TextSize = 15
    TabBtn.TextColor3 = Color3.new(1,1,1)
    TabBtn.Parent = self.Tabs

    local Page = Instance.new("ScrollingFrame")
    Page.Size = UDim2.new(1,0,1,0)
    Page.CanvasSize = UDim2.new(0,0,0,0)
    Page.ScrollBarThickness = 6
    Page.Visible = false
    Page.Parent = self.PageHolder

    local Layout = Instance.new("UIListLayout")
    Layout.Parent = Page
    Layout.Padding = UDim.new(0,5)

    TabBtn.MouseButton1Click:Connect(function()
        for _,v in pairs(self.PageHolder:GetChildren()) do
            if v:IsA("ScrollingFrame") then v.Visible = false end
        end
        Page.Visible = true
    end)

    local Tab = {}

    function Tab:Label(text)
        local L = Instance.new("TextLabel")
        L.Size = UDim2.new(1,-10,0,30)
        L.BackgroundTransparency = 1
        L.Text = text
        L.Font = Enum.Font.Gotham
        L.TextSize = 15
        L.TextColor3 = Color3.new(1,1,1)
        L.Parent = Page
    end

    function Tab:Button(text, callback)
        local B = Instance.new("TextButton")
        B.Size = UDim2.new(1,-10,0,35)
        B.BackgroundColor3 = Color3.fromRGB(70,70,70)
        B.Text = text
        B.Font = Enum.Font.Gotham
        B.TextSize = 15
        B.TextColor3 = Color3.new(1,1,1)
        B.Parent = Page
        B.MouseButton1Click:Connect(function()
            pcall(callback)
        end)
    end

    function Tab:Toggle(text, default, callback)
        local F = Instance.new("Frame")
        F.Size = UDim2.new(1,-10,0,35)
        F.BackgroundColor3 = Color3.fromRGB(70,70,70)
        F.Parent = Page

        local L = Instance.new("TextLabel")
        L.Size = UDim2.new(0.7,0,1,0)
        L.BackgroundTransparency = 1
        L.Text = text
        L.Font = Enum.Font.Gotham
        L.TextSize = 15
        L.TextColor3 = Color3.new(1,1,1)
        L.Parent = F

        local T = Instance.new("TextButton")
        T.Size = UDim2.new(0.25,0,0.75,0)
        T.Position = UDim2.new(0.72,0,0.12,0)
        T.Text = default and "ON" or "OFF"
        T.BackgroundColor3 = default and Color3.fromRGB(0,170,0) or Color3.fromRGB(170,0,0)
        T.Parent = F

        local state = default

        T.MouseButton1Click:Connect(function()
            state = not state
            T.Text = state and "ON" or "OFF"
            T.BackgroundColor3 = state and Color3.fromRGB(0,170,0) or Color3.fromRGB(170,0,0)
            pcall(callback, state)
        end)
    end

    function Tab:Input(text, placeholder, callback)
        local Box = Instance.new("TextBox")
        Box.Size = UDim2.new(1,-10,0,35)
        Box.BackgroundColor3 = Color3.fromRGB(70,70,70)
        Box.Text = ""
        Box.PlaceholderText = placeholder
        Box.Font = Enum.Font.Gotham
        Box.TextSize = 14
        Box.TextColor3 = Color3.new(1,1,1)
        Box.Parent = Page

        Box.FocusLost:Connect(function(enter)
            if enter then pcall(callback, Box.Text) end
        end)
    end

    return Tab
end

-- Notify
function SarScript:Notify(text)
    local notif = Instance.new("Frame")
    notif.Size = UDim2.new(0,280,0,45)
    notif.Position = UDim2.new(1,20,0,self.NotificationY)
    notif.BackgroundColor3 = Color3.fromRGB(30,30,30)
    notif.Parent = self.Screen

    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1,0,1,0)
    Label.BackgroundTransparency = 1
    Label.Text = text
    Label.Font = Enum.Font.Gotham
    Label.TextSize = 16
    Label.TextColor3 = Color3.new(1,1,1)
    Label.Parent = notif

    task.spawn(function()
        wait(3)
        notif:Destroy()
    end)
end

return SarScript
